(function(){var t={9704:function(t,e,s){"use strict";var i=s(6265),a=s.n(i),o=s(5842);const r=a().create({baseURL:"https://82.157.191.10:3000",timeout:4e3});r.interceptors.request.use((t=>(t.headers.authorization=`bearer ${o.Z.getters.token}`,t))),e["Z"]=r},9891:function(t,e,s){"use strict";var i={};s.r(i);var a=s(6369),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.isShow?s("router-view"):t._e()],1)},r=[],l={name:"App",provide(){return{reload:this.reload,newtime:this.newtime}},data(){return{isShow:!0}},methods:{reload(){this.isShow=!1,this.$nextTick((()=>{this.isShow=!0}))},newtime(t){t=new Date(t);let e=t.getFullYear(),s=t.getMonth()+1-0>=10?Number(t.getMonth())+1:"0"+(Number(t.getMonth())+1),i=t.getDate(),a=t.getHours()>=10?t.getHours():"0"+t.getHours(),o=t.getMinutes()>=10?t.getMinutes():"0"+t.getMinutes(),r=t.getSeconds()>=10?t.getSeconds():"0"+t.getSeconds();return e+"-"+s+"-"+i+" "+a+":"+o+":"+r}}},n=l,c=s(1001),d=(0,c.Z)(n,o,r,!1,null,null,null),u=d.exports,p=s(7392),m=s(5842),h=s(530),v=s.n(h),b=s(1836);p.ZP.beforeEach((async(t,e,s)=>{v().start(),console.log(t.meta),document.title=t.meta.title;const i=(0,b.LP)();if(console.log(m.Z.state),i)if("/sgin"==t.path||"/register"==t.path)s(e),v().done();else{const e=m.Z.getters.roles&&m.Z.getters.roles.length>0;if(e)s(),v().done();else try{const{roles:e}=await m.Z.dispatch("user/getInfo"),i=await m.Z.dispatch("permission/generateRoutes",e);console.log(e),i.forEach((t=>{p.ZP.addRoute(t)})),s({...t,replace:!0})}catch(a){s()}}else"/sgin"==t.path||"/register"==t.path?(s(),v().done()):(s({path:"/sgin"}),v().done())})),p.ZP.afterEach((()=>{v().done()}));var g=s(9704),f=s(8499),_=s.n(f),w=s(8548);a["default"].prototype.$echarts=w,a["default"].use(_()),a["default"].config.productionTip=!1,a["default"].prototype.$http=g.Z,new a["default"]({permission:i["default"],store:m.Z,router:p.ZP,render:t=>t(u)}).$mount("#app")},7392:function(t,e,s){"use strict";s.d(e,{aP:function(){return De},WC:function(){return ze},ZP:function(){return Oe}});var i=s(6369),a=s(2631),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Commodity")},r=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"hig"}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize)}},[s("el-table-column",{attrs:{label:"id编号",width:"100",prop:"_id"}}),s("el-table-column",{attrs:{label:"商品名称",width:"220",prop:"name"}}),s("el-table-column",{attrs:{label:"单价",width:"100",prop:"unit_price"}}),s("el-table-column",{attrs:{label:"商品上传时间",prop:"creat_time"}}),s("el-table-column",{attrs:{label:"商品信息更新时间",prop:"update_time"}}),s("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[s("el-input",{staticStyle:{width:"200px"},attrs:{id:"einp",size:"mini",placeholder:"输入关键字搜索"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(s){return t.handleEdit(e.row)}}},[t._v("查看")]),s("el-button",{attrs:{size:"mini"},on:{click:function(s){return t.modification(e.row)}}},[t._v("修改")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return t.dialogVisibleth(e.row)}}},[t._v("删除")])]}}])})],1),s("el-dialog",{staticStyle:{"margin-top":"0","background-color":"transparent"},attrs:{title:"商品详情",visible:t.dialogVisible1,width:"45%"},on:{"update:visible":function(e){t.dialogVisible1=e}}},[s("span",[s("el-row",[s("el-col",{attrs:{span:22}},[s("el-card",{attrs:{"body-style":{padding:"0px"}}},[s("div",{staticStyle:{display:"flex"}},[s("div",{staticStyle:{width:"200px",height:"230px"}},[s("img",{staticClass:"image",staticStyle:{"border-radius":"5px"},attrs:{src:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimgpp.ztupic.com%2Fbup%2Fso%2F20210622%2Fa64c8edc85bb765346c93d7b6f657cde-1.jpg%3Fx-oss-process%3Dimage%2Fcrop%2Cw_1024%2Ch_1542%2Fresize%2Ch_812%2Fquality%2Cq_85%2Fsharpen%2C100&refer=http%3A%2F%2Fimgpp.ztupic.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1661131958&t=ab3ff8be44b6d9f440e562aa5bc24f5a"}})]),s("div",{staticStyle:{padding:"15px","margin-left":"20px"}},[s("span",{staticStyle:{"font-weight":"600"}},[t._v("商品介绍")]),s("div",{staticClass:"bottom clearfix"},[s("p",[s("span",[t._v("商品名称：")]),s("span",[t._v(t._s(t.commodity.name))])]),s("p",[s("span",[t._v("商品编号：")]),s("span",[t._v(t._s(t.commodity.id))])]),s("p",[s("span",[t._v("商品价格：")]),s("span",[t._v(t._s(t.commodity.unit_price))])]),s("p",[s("span",[t._v("商品产地：")]),s("span",[t._v("中国大陆")])]),s("p",[s("span",[t._v("商品上架时间：")]),s("span",[t._v(t._s(t.commodity.creat_time))])]),s("p",[s("span",[t._v("商品更新时间：")]),s("span",[t._v(t._s(t.commodity.update_time))])])])])])])],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible1=!1}}},[t._v("确 定")])],1)]),s("el-dialog",{attrs:{title:"商品信息修改",visible:t.dialogVisible2,width:"30%"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[s("span",[s("el-form",{attrs:{"label-width":"80px"}},[s("el-form-item",{attrs:{label:"商品编号:"}},[s("el-input",{attrs:{disabled:""},model:{value:t.commodityobj.id,callback:function(e){t.$set(t.commodityobj,"id",e)},expression:"commodityobj.id"}})],1),s("el-form-item",{attrs:{label:"商品名称:"}},[s("el-input",{model:{value:t.commodityobj.name,callback:function(e){t.$set(t.commodityobj,"name",e)},expression:"commodityobj.name"}})],1),s("el-form-item",{attrs:{label:"商品单价:"}},[s("el-input",{model:{value:t.commodityobj.unit_price,callback:function(e){t.$set(t.commodityobj,"unit_price",e)},expression:"commodityobj.unit_price"}})],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取消修改")]),s("el-button",{attrs:{type:"primary"},on:{click:t.updateuser}},[t._v("确定修改")])],1)]),s("el-dialog",{attrs:{title:"下架商品",visible:t.dialogVisible3,width:"30%"},on:{"update:visible":function(e){t.dialogVisible3=e}}},[s("span",[s("el-form",{attrs:{"label-width":"80px"}},[s("el-form-item",{attrs:{label:"商品编号:"}},[s("el-input",{attrs:{disabled:""},model:{value:t.remove1.id,callback:function(e){t.$set(t.remove1,"id",e)},expression:"remove1.id"}})],1),s("el-form-item",{attrs:{label:"商品名称:"}},[s("el-input",{attrs:{disabled:""},model:{value:t.remove1.name,callback:function(e){t.$set(t.remove1,"name",e)},expression:"remove1.name"}})],1),s("el-form-item",{attrs:{label:"商品单价:"}},[s("el-input",{attrs:{disabled:""},model:{value:t.remove1.unit_price,callback:function(e){t.$set(t.remove1,"unit_price",e)},expression:"remove1.unit_price"}})],1),s("div",{staticClass:"demo-input-suffix",staticStyle:{"margin-left":"15px"}},[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("请确认： "),s("el-radio-group",{model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[s("el-radio-button",{attrs:{label:"确认删除"}}),s("el-radio-button",{attrs:{label:"取消删除"}})],1)],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible3=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.removecomdity}},[t._v("确 定")])],1)]),s("el-dialog",{attrs:{title:"新增商品",visible:t.dialogVisible4,width:"30%"},on:{"update:visible":function(e){t.dialogVisible4=e}}},[s("span",[s("el-form",{attrs:{"label-width":"80px"}},[s("el-form-item",{attrs:{label:"商品名称:"}},[s("el-input",{model:{value:t.addcommdity1.name,callback:function(e){t.$set(t.addcommdity1,"name",e)},expression:"addcommdity1.name"}})],1),s("el-form-item",{attrs:{label:"商品单价:"}},[s("el-input",{model:{value:t.addcommdity1.unit_price,callback:function(e){t.$set(t.addcommdity1,"unit_price",e)},expression:"addcommdity1.unit_price"}})],1),s("el-form-item",{attrs:{label:"商品产地:"}},[s("el-input",{model:{value:t.addcommdity1.position,callback:function(e){t.$set(t.addcommdity1,"position",e)},expression:"addcommdity1.position"}})],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible4=!1}}},[t._v("取消添加")]),s("el-button",{attrs:{type:"primary"},on:{click:t.addcommdity}},[t._v("确定添加")])],1)]),s("div",{staticStyle:{"margin-top":".8rem","margin-left":".2rem",position:"relative"}},[s("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[5,8,10],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),s("el-button",{staticStyle:{position:"absolute",top:"0",right:"9px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){t.dialogVisible4=!0}}},[t._v("新增商品")])],1)],1)},n=[],c=(s(6699),{inject:["reload","newtime"],created(){this.$http.get("/commodity").then((t=>{t.data.forEach((t=>{t.creat_time=this.newtime(t.creat_time),t.update_time=this.newtime(t.update_time),t.unit_price=t.unit_price})),this.tableData=t.data,this.arr=t.data}))},data(){return{arr:[],tableData:[],currentPage:1,currentIndex:"",pagesize:8,search:"",commodity:{},commodityobj:{},remove1:{},addcommdity1:{},radio1:"取消删除",dialogVisible1:!1,dialogVisible2:!1,dialogVisible3:!1,dialogVisible4:!1}},methods:{handleEdit(t){this.dialogVisible1=!0,t.id=t._id,this.commodity=t},dialogVisibleth(t){t.id=t._id,this.remove1=t,this.dialogVisible3=!0,this.radio1="取消删除"},removecomdity(){if("确认删除"==this.radio1){let t=this.remove1;this.$http.delete("/commodity",{data:t}).then((t=>{if(200!=t.data.code)return-2==t.data.code?void console.log(t.data.msg):void this.$message.error(`${t.data.msg}`);this.$message({message:"删除成功",type:"success"}),this.reload()}))}else this.$message.error("请确认是否删除")},addcommdity(){let t=this.addcommdity1;""!=this.addcommdity1.name?""!=this.addcommdity1.unit_price?""!=this.addcommdity1.position?this.$http.post("/commodity",t).then((t=>{if(200!=t.data.code)return this.dialogVisible4=!0,void this.$message.error(`${t.data.msg}`);this.$message({message:"商品添加成功",type:"success"}),this.reload()})):this.$message.error("商品产地"):this.$message.error("商品价格"):this.$message.error("商品名称必填")},handleSizeChange(t){this.pagesize=t,console.log(`每页 ${t} 条`)},handleCurrentChange(t){this.currentPage=t},modification(t){this.dialogVisible2=!0,t.id=t._id,this.commodityobj={...t}},updateuser(){let t=this.commodityobj;this.$http.put("/commodity",t).then((t=>{if(200!=t.data.code)return this.dialogVisible2=!0,void this.$message.error(`${t.data.msg}`);this.$message({message:"信息修改成功",type:"success"}),this.reload()}))}},watch:{search(t){this.tableData=""==t?this.arr:this.tableData.filter((t=>!this.search||t.name.toLowerCase().includes(this.search.toLowerCase())))}}}),d=c,u=s(1001),p=(0,u.Z)(d,l,n,!1,null,null,null),m=p.exports,h={components:{Commodity:m}},v=h,b=(0,u.Z)(v,o,r,!1,null,null,null),g=b.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Headerec")],1)},_=[],w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{ref:"main",attrs:{id:"main"}})])},y=[],x=s(6084),C=s.n(x),$=C()(),k={data(){return{option:{legend:{},tooltip:{trigger:"axis",showContent:!0},dataset:{source:[["product","一月","二月","三月","四月","五月","六月"],["奶茶",32.7,50.1,56.5,46.1,53.4,37.9],["拿铁",14.5,20.1,10.3,10.4,8.7,18.4],["芝芝可可",4.8,17.2,10.4,7,10.5,4.2],["圣代",48.3,13.6,21.8,36.5,28.4,41.3]]},xAxis:{type:"category",axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#6FC6F3"}}},yAxis:{gridIndex:0,axisLine:{show:!0,lineStyle:{color:"#6FC6F3"}}},grid:{top:"30%"},series:[{type:"line",smooth:!0,seriesLayoutBy:"row",emphasis:{focus:"series"}},{type:"line",smooth:!0,seriesLayoutBy:"row",emphasis:{focus:"series"}},{type:"line",smooth:!0,seriesLayoutBy:"row",emphasis:{focus:"series"}},{type:"line",smooth:!0,seriesLayoutBy:"row",emphasis:{focus:"series"}}]}}},mounted(){this.add()},methods:{add(){let t=this.$refs.main;const e=this.$echarts.init(t);$.listenTo(t,(function(){e.resize()})),e.setOption(this.option)}}},j=k,F=(0,u.Z)(j,w,y,!1,null,"08ddde10",null),S=F.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"kl"}},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:5}},[s("div",{staticClass:"grid-content bg-purple"},[s("div",{staticClass:"flex"},[s("el-avatar",{attrs:{shape:"square",size:80,src:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.3158.cn%2Fdata%2Fi10%2F20160727%2F8428831471598902_490x490.jpg&refer=http%3A%2F%2Fwww.3158.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1660728229&t=e08328ecffafd9efeddeb5d3eca521a4"}}),s("div",{staticClass:"teap"},[t._v("奶茶 "),s("div",{staticClass:"kpl",attrs:{id:"moth1"}})])],1)])]),s("el-col",{attrs:{span:5}},[s("div",{staticClass:"grid-content bg-purple"},[s("div",{staticClass:"flex"},[s("el-avatar",{attrs:{shape:"square",size:80,src:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fbkimg.cdn.bcebos.com%2Fpic%2F9825bc315c6034a85edf522d6f5b5e540923dd54d84c&refer=http%3A%2F%2Fbkimg.cdn.bcebos.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1660728488&t=e35e47c481e78d4054e938cb1fde2ea0"}}),s("div",{staticClass:"teap"},[t._v("拿铁 "),s("div",{staticClass:"kpl",attrs:{id:"moth2"}})])],1)])]),s("el-col",{attrs:{span:5}},[s("div",{staticClass:"grid-content bg-purple"},[s("div",{staticClass:"flex"},[s("el-avatar",{attrs:{shape:"square",size:80,src:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.3158.cn%2Fdata%2Fi10%2F20160701%2F6186605211966040_490x490.jpg&refer=http%3A%2F%2Fwww.3158.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1660728585&t=576cd3b6089ab53b592e9015e162cb30"}}),s("div",{staticClass:"teap"},[t._v("芝芝可可 "),s("div",{staticClass:"kpl",attrs:{id:"moth3"}})])],1)])]),s("el-col",{attrs:{span:5}},[s("div",{staticClass:"grid-content bg-purple"},[s("div",{staticClass:"flex"},[s("el-avatar",{attrs:{shape:"square",size:80,src:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fitem%2F202003%2F23%2F20200323191320_fscbe.thumb.1000_0.jpeg&refer=http%3A%2F%2Fc-ssl.duitang.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1660728331&t=ba11a47881dcd6f234b51121e7046535"}}),s("div",{staticClass:"teap"},[t._v("圣代 "),s("div",{staticClass:"kpl",attrs:{id:"moth4"}})])],1)])]),s("el-col",{attrs:{span:21}},[s("div",{staticClass:"grid-content bg-purple"},[s("Echarts")],1)]),s("div",{staticStyle:{width:"103.2%"}},[s("el-col",{attrs:{span:10}},[s("div",{staticClass:"grid-content bg-purple",staticStyle:{"padding-bottom":"20px"}},[s("Pie")],1)]),s("el-col",{attrs:{span:10}},[s("div",{staticClass:"grid-content bg-purple",staticStyle:{"padding-bottom":"20px"}},[s("Bar")],1)])],1)],1)],1)},E=[],P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{ref:"main",attrs:{id:"main"}})])},Z=[],z=C()(),D={data(){return{option:{title:{text:"年销量百分比",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"总销量百分比",type:"pie",radius:[20,140],center:["50%","50%"],roseType:"radius",emphasis:{label:{show:!0}},data:[{value:32680,name:"奶茶"},{value:29550,name:"拿铁"},{value:23190,name:"芝芝可可"},{value:14580,name:"圣代"}]}]}}},mounted(){this.add()},methods:{add(){let t=this.$refs.main;const e=this.$echarts.init(t);z.listenTo(t,(function(){e.resize()})),e.setOption(this.option)}}},O=D,T=(0,u.Z)(O,P,Z,!1,null,"7438d29e",null),I=T.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{ref:"main",attrs:{id:"main"}})])},U=[],A=C()(),M={data(){return{option:{legend:{},tooltip:{},dataset:{source:[["product","奶茶","拿铁","芝芝可可","圣代"],["一月",430.3,250.8,303.7,403.8],["二月",500.1,273.4,255.1,362.1],["三月",470.4,265.2,182.5,368.6],["四月",572.4,253.9,339.1,382.1]]},xAxis:{type:"category",axisLine:{show:!0,lineStyle:{color:"#6FC6F3"}}},yAxis:{axisLine:{show:!0,lineStyle:{color:"#6FC6F3"}}},series:[{type:"bar"},{type:"bar"},{type:"bar"},{type:"bar"}]}}},mounted(){this.add()},methods:{add(){let t=this.$refs.main;const e=this.$echarts.init(t);A.listenTo(t,(function(){e.resize()})),e.setOption(this.option)}}},N=M,R=(0,u.Z)(N,L,U,!1,null,"556b32a9",null),q=R.exports;class B{constructor(){this.descDigital=0,this.prevDigital=0,this.step=0,this.duration=20,this.dom=null}render(t,e,s){this.descDigital=t,this.duration=e,this.dom=s}show(){if(this.prevDigital!==this.descDigital){if(0===this.step){const t=this.descDigital-this.prevDigital,e=this.duration/50;this.step=t>0?Math.ceil(t/e):Math.floor(t/e)}this.prevDigital+=this.step,this.step>0?this.prevDigital=this.prevDigital>this.descDigital?this.descDigital:this.prevDigital:this.prevDigital=this.prevDigital<this.descDigital?this.descDigital:this.prevDigital,this.dom.innerHTML=this.prevDigital.toLocaleString(),setTimeout((()=>{this.show()}),50)}else this.step=0}}var H={data(){let t=32680,e=29550,s=23190,i=14580;return{arr:[{value:t,moth:"moth1"},{value:e,moth:"moth2"},{value:s,moth:"moth3"},{value:i,moth:"moth4"}]}},mounted(){this.arr.forEach((t=>{this.setValue(t.value,t.moth)}))},methods:{setValue(t,e){let s=t,i=new B;const a=document.getElementById(e);i.render(s,2e3,a),i.show();let o=setInterval((()=>{s+=500,i.render(s,2e3),i.show()}),5e3);setTimeout((()=>{clearInterval(o),o=null}),4e3)}},components:{Echarts:S,Pie:I,Bar:q}},K=H,G=(0,u.Z)(K,V,E,!1,null,"2a9e1dea",null),J=G.exports,W={data(){return{}},created(){this.$store.dispatch("user/getInfo")},components:{Echarts:S,Headerec:J}},Y=W,Q=(0,u.Z)(Y,f,_,!1,null,null,null),X=Q.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Sgin",{attrs:{obj:this.obj},on:{click:t.sgin,clickl:t.register}})},et=[],st=s(9564),it=s.n(st),at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"home"}},[s("div",{attrs:{id:"sgin"}},[s("div",{attrs:{id:"header"}},[t._v("管理系统")]),s("div",{attrs:{id:"user"}},[s("div",{staticClass:"inp"},[t._v("账号："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.obj.username,expression:"obj.username"}],attrs:{type:"text","status-icon":""},domProps:{value:t.obj.username},on:{input:function(e){e.target.composing||t.$set(t.obj,"username",e.target.value)}}})]),s("div",{staticClass:"inp"},[t._v("密码："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.obj.password,expression:"obj.password"}],attrs:{type:"password"},domProps:{value:t.obj.password},on:{input:function(e){e.target.composing||t.$set(t.obj,"password",e.target.value)}}})])]),s("button",{attrs:{id:"btn-sgin"},on:{click:t.sgin}},[t._v("登录")]),s("div",{attrs:{id:"a-h"},on:{click:t.register}},[t._v("没有账号？立即注册")])])])},ot=[],rt={props:["obj"],data(){return{}},methods:{sgin(){this.$emit("click")},register(){this.$emit("clickl")}}},lt=rt,nt=(0,u.Z)(lt,at,ot,!1,null,null,null),ct=nt.exports,dt={data(){return{obj:{username:"小红",password:"12345678"}}},async created(){const t=await this.$http.get("shop_car");this.arr=t},methods:{async sgin(){let t={...this.obj};t.password=it()(t.password),this.$store.dispatch("user/login",t).then((t=>{200==t.code?(this.$message({message:"登录成功",type:"success"}),this.$router.push("/")):this.$message.error("登录失败，用户名或密码错误")}))},register(){this.$router.push("/register")}},components:{Sgin:ct}},ut=dt,pt=(0,u.Z)(ut,tt,et,!1,null,null,null),mt=pt.exports,ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",[s("Aside"),s("el-container",[s("el-header",[s("Header")],1),s("div",{staticStyle:{border:"1px solid"}},[t._v("面包写")]),s("div",{staticClass:"main"},[s("router-view")],1)],1)],1)},vt=[],bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.$route.path,router:!0,collapse:t.isCollapse}},[s("h3",{staticClass:"el-h3"},[t._v(t._s(t.isCollapse?"管理系统":"后台管理系统"))]),t._l(t.permission_routes,(function(e){return s("div",[e.hidden?t._e():[s("el-menu-item",{attrs:{index:t.resolve(e)}},[s("i",{class:e.icon}),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.children[0].meta.title))])])]],2)}))],2)],1)},gt=[],ft=s(3822),_t={data(){return{route:[]}},created(){this.permission_routes.forEach((t=>{t.hidden||this.route.push(t)})),console.log(this.permission_routes)},methods:{resolve(t){let e;return e="/"==t.path?t.path+t.children[0].path:t.path+"/"+t.children[0].path,e}},computed:{...(0,ft.Se)(["permission_routes"]),isCollapse(){return this.$store.state.tab.isCollapse}}},wt=_t,yt=(0,u.Z)(wt,bt,gt,!1,null,null,null),xt=yt.exports,Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",[i("div",{staticClass:"el-content"},[i("el-button",{attrs:{plain:"",icon:"el-icon-menu",size:"mini"},on:{click:t.headerMenu}}),i("h3",{staticClass:"elh3",on:{click:t.clickMenu}},[t._v("首页")])],1),i("div",{staticClass:"r-content"},[i("el-dropdown",{attrs:{trigger:"click",szie:"mini"}},[i("span",[i("img",{staticClass:"el-img",attrs:{src:s(2285)}})]),i("el-dropdown-menu",{staticClass:"el-cd",attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{index:"/user"}},[t._v("个人中心")]),i("el-dropdown-item",[t._v("退出")])],1)],1)],1)])},$t=[],kt={data(){return{activeIndex:"1",activeIndex2:"1"}},methods:{handleSelect(t,e){console.log(t,e)},clickMenu(){this.$router.push("/")},headerMenu(){this.$store.commit("tab/isCollapsemenu")}}},jt=kt,Ft=(0,u.Z)(jt,Ct,$t,!1,null,null,null),St=Ft.exports,Vt={data(){return{}},components:{Aside:xt,Header:St}},Et=Vt,Pt=(0,u.Z)(Et,ht,vt,!1,null,null,null),Zt=Pt.exports,zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"resgister"}},[s("div",{attrs:{id:"div"}},[s("div",{attrs:{id:"header"}},[t._v("个人账户注册")]),s("div",{attrs:{id:"user"}},[s("div",{staticClass:"inp"},[t._v("账     号："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.obj.username,expression:"obj.username"}],attrs:{type:"text",placeholder:"请输入账号"},domProps:{value:t.obj.username},on:{input:function(e){e.target.composing||t.$set(t.obj,"username",e.target.value)}}})]),s("div",{staticClass:"inp"},[t._v("密     码："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.obj.password,expression:"obj.password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.obj.password},on:{input:function(e){e.target.composing||t.$set(t.obj,"password",e.target.value)}}})]),s("div",{staticClass:"inp"},[t._v("手机号："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.obj.phone_number,expression:"obj.phone_number"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:t.obj.phone_number},on:{input:function(e){e.target.composing||t.$set(t.obj,"phone_number",e.target.value)}}})]),s("div",{staticClass:"inp"},[t._v("邀请码："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.obj.Invitation_code,expression:"obj.Invitation_code"}],attrs:{type:"text",placeholder:"请输入邀请码"},domProps:{value:t.obj.Invitation_code},on:{input:function(e){e.target.composing||t.$set(t.obj,"Invitation_code",e.target.value)}}})])]),s("div",{attrs:{id:"btn"}},[s("button",{staticClass:"btn-reg",on:{click:t.add}},[t._v("立即注册")]),s("button",{staticClass:"btn-reg",staticStyle:{background:"#555"},on:{click:t.cz}},[t._v("重置信息")])])])])},Dt=[],Ot={data(){return{obj:{username:"",password:"",phone_number:"",Invitation_code:""}}},methods:{cz(){this.obj.password="",this.obj.Invitation_code="",this.obj.phone_number="",this.obj.username=""},async add(){let t={...this.obj},e=Object.keys(t).findIndex((e=>""==t[e]));if(-1==e){if(37211==t.Invitation_code){delete t.Invitation_code;const e=await this.$http.post("/owner/register",t);if(console.log(e),200!=e.data.code)return void this.$message.error(`注册失败，${e.data.msg}`);this.$message({message:"恭喜你，注册成功",type:"success"}),this.$router.push("/sgin")}else this.$message("邀请码错误");this.obj.password="",this.obj.Invitation_code="",this.obj.phone_number="",this.obj.username=""}else this.$message({message:"请按要求填写信息",type:"warning"})}}},Tt=Ot,It=(0,u.Z)(Tt,zt,Dt,!1,null,null,null),Lt=It.exports,Ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Main")],1)},At=[],Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"hig"}},[s("div",{staticClass:"demo-input-size"},[s("el-input",{staticStyle:{width:"25%"},attrs:{filterable:"",placeholder:"输入用户id查询","prefix-icon":"el-icon-search"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),s("el-input",{staticStyle:{width:"25%","margin-left":"20px"},attrs:{placeholder:"输入用户名查询","prefix-icon":"el-icon-search"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}}),s("el-input",{staticStyle:{width:"25%",margin:"20px"},attrs:{placeholder:"输入手机号查询","prefix-icon":"el-icon-search"},model:{value:t.value3,callback:function(e){t.value3=e},expression:"value3"}}),s("el-button",{on:{click:t.filterMethod}},[t._v("查询")]),s("el-button",{on:{click:t.btncz}},[t._v("重置")])],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.obj,height:"581",border:""}},[s("el-table-column",{attrs:{prop:"_id",label:"id编号",width:"85"}}),s("el-table-column",{attrs:{prop:"username",label:"姓名",width:"120"}}),s("el-table-column",{attrs:{prop:"phone_number",label:"手机号",width:"180"}}),s("el-table-column",{attrs:{prop:"wallet",label:"钱包",width:"120"}}),s("el-table-column",{attrs:{prop:"creat_time",sortable:"",label:"注册时间"}}),s("el-table-column",{attrs:{sortable:"",prop:"update_time",label:"更改信息时间"}}),s("el-table-column",{attrs:{label:"更多操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"text"},on:{click:function(s){return t.getUser(e.row)}}},[t._v("查看")]),s("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"text"},on:{click:function(s){return t.modification(e.row)}}},[t._v("编辑")]),s("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"text"},on:{click:function(s){return t.dialogVisibleth(e.row)}}},[t._v("删除")]),s("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"text"},on:{click:function(s){return t.dialogVisiblesi(e.row)}}},[t._v("修改密码")])]}}])})],1),s("el-dialog",{staticStyle:{"margin-top":"-12.5vh","background-color":"transparent"},attrs:{title:"个人信息",visible:t.dialogVisible1,width:"45%"},on:{"update:visible":function(e){t.dialogVisible1=e}}},[s("span",[s("el-card",{staticClass:"box-card",staticStyle:{padding:"20px"}},[s("el-button",{staticClass:"el-btn",attrs:{type:"text"}},[s("span",[s("img",{staticClass:"head-img",attrs:{src:t.user.avarat}})])]),s("div",{staticClass:"grxx"},[s("div",{staticClass:"el-icon-s-custom"},[t._v("登录账号")]),s("div",[t._v(t._s(t.user.username))])]),s("el-divider",{staticClass:"br"}),s("div",{staticClass:"grxx1"},[s("div",{staticClass:"el-icon-unlock"},[t._v("用户权限")]),s("div",[t._v(t._s(t.user.age))])]),s("el-divider",{staticClass:"br"}),s("div",{staticClass:"grxx1"},[s("div",{staticClass:"el-icon-phone "},[t._v("电话号码")]),s("div",[t._v(t._s(t.user.phone_number))])]),s("el-divider",{staticClass:"br"}),s("div",{staticClass:"grxx1"},[s("div",{staticClass:"el-icon-s-cooperation "},[t._v("账户余额")]),s("div",[t._v(t._s(t.user.wallet))])]),s("el-divider",{staticClass:"br"}),s("div",{staticClass:"grxx1"},[s("div",{staticClass:"el-icon-user-solid "},[t._v("性别")]),s("div",[t._v(t._s("1"==t.user.gender?"男":"女"))])]),s("el-divider",{staticClass:"br"}),s("div",{staticClass:"grxx1"},[s("div",{staticClass:"el-icon-date"},[t._v("注册时间")]),s("div",[t._v(t._s(t.user.creat_time))])]),s("el-divider",{staticClass:"br"})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible1=!1}}},[t._v("确 定")])],1)]),s("el-dialog",{attrs:{title:"个人信息修改",visible:t.dialogVisible2,width:"30%"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[s("span",[s("el-form",{attrs:{"label-width":"80px"}},[s("el-form-item",{attrs:{label:"用户名"}},[s("el-input",{model:{value:t.userobj.username,callback:function(e){t.$set(t.userobj,"username",e)},expression:"userobj.username"}})],1),s("el-form-item",{attrs:{label:"电话号码"}},[s("el-input",{model:{value:t.userobj.phone_number,callback:function(e){t.$set(t.userobj,"phone_number",e)},expression:"userobj.phone_number"}})],1),s("div",{staticClass:"demo-input-suffix"},[t._v(" 性别 : "),s("el-radio",{attrs:{label:"男"},model:{value:t.userobj.gender,callback:function(e){t.$set(t.userobj,"gender",e)},expression:"userobj.gender"}},[t._v("男")]),s("el-radio",{attrs:{label:"女"},model:{value:t.userobj.gender,callback:function(e){t.$set(t.userobj,"gender",e)},expression:"userobj.gender"}},[t._v("女")])],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取消修改")]),s("el-button",{attrs:{type:"primary"},on:{click:t.updateuser}},[t._v("确定修改")])],1)]),s("el-dialog",{attrs:{title:"删除用户",visible:t.dialogVisible3,width:"30%"},on:{"update:visible":function(e){t.dialogVisible3=e}}},[s("span",[s("el-form",{attrs:{"label-width":"80px"}},[s("el-form-item",{attrs:{label:"用户名:"}},[s("el-input",{attrs:{disabled:""},model:{value:t.remove1.username,callback:function(e){t.$set(t.remove1,"username",e)},expression:"remove1.username"}})],1),s("el-form-item",{attrs:{label:"用户密码:"}},[s("el-input",{attrs:{type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("div",{staticClass:"demo-input-suffix",staticStyle:{"margin-left":"15px"}},[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("请确认： "),s("el-radio-group",{model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[s("el-radio-button",{attrs:{label:"确认删除"}}),s("el-radio-button",{attrs:{label:"取消删除"}})],1)],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible3=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.removeuser}},[t._v("确 定")])],1)]),s("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible4,width:"30%"},on:{"update:visible":function(e){t.dialogVisible4=e}}},[s("span",[s("el-form",{attrs:{"label-width":"80px"}},[s("el-form-item",{attrs:{label:"用户名:"}},[s("el-input",{attrs:{disabled:""},model:{value:t.gpassword.username,callback:function(e){t.$set(t.gpassword,"username",e)},expression:"gpassword.username"}})],1),s("el-form-item",{attrs:{label:"旧密码:"}},[s("el-input",{attrs:{type:"password"},model:{value:t.oldpassword,callback:function(e){t.oldpassword=e},expression:"oldpassword"}})],1),s("el-form-item",{attrs:{label:"新密码:"}},[s("el-input",{attrs:{type:"password"},model:{value:t.newpassword,callback:function(e){t.newpassword=e},expression:"newpassword"}})],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible4=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.modificationpass}},[t._v("确 定")])],1)])],1)},Nt=[],Rt={created(){this.$http.get("/api/test").then((t=>{t.data.forEach((t=>{t.creat_time=this.newtime(t.creat_time),t.update_time=this.newtime(t.update_time)})),this.obj=t.data,this.arr=t.data}))},inject:["reload","newtime"],data(){return{radio1:"取消删除",value1:"",value2:"",value3:"",password:"",oldpassword:"",newpassword:"",obj:[],user:{},arr:[],userobj:{},remove1:{},gpassword:{},dialogVisible1:!1,dialogVisible2:!1,dialogVisible3:!1,dialogVisible4:!1}},methods:{dialogVisibleth(t){t.id=t._id,this.password="",this.remove1=t,this.dialogVisible3=!0,this.radio1="取消删除"},getUser(t){this.dialogVisible1=!0;let e=t._id;this.$http.post("/owner",{id:e}).then((t=>{console.log(t),t.data.update_time=this.newtime(t.data.update_time),t.data.creat_time=this.newtime(t.data.creat_time),this.user={...t.data}}))},modification(t){this.dialogVisible2=!0,t.id=t._id,this.userobj={...t}},dialogVisiblesi(t){this.dialogVisible4=!0,this.oldpassword="",this.newpassword="",this.gpassword=t},modificationpass(){if(""==this.oldpassword)return void this.$message({message:"旧密码不能为空",type:"error"});if(""==this.newpassword)return void this.$message({message:"新密码不能为空",type:"error"});let t={};t.username=this.gpassword.username,t.password=it()(this.oldpassword),t.newpassword=it()(this.newpassword),this.$http.put("/owner/paword",t).then((t=>{200==t.data.code?(this.$message({message:"密码修改成功",type:"success"}),this.reload(),this.dialogVisible4=!1):this.$message.error(`${t.data.msg}`)}))},updateuser(){let t=this.userobj;this.$http.put("/owner/modify",t).then((t=>{if(200!=t.data.code)return this.dialogVisible2=!0,void this.$message.error(`${t.data.msg}`);this.$message({message:"信息修改成功",type:"success"}),this.reload()}))},removeuser(){if("确认删除"==this.radio1){let t=this.remove1;t.password=this.password,t.password=it()(t.password),this.$http.delete("owner/delete",{data:t}).then((t=>{if(200!=t.data.code)return-2==t.data.code?void console.log(t.data.msg):void this.$message.error(`${t.data.msg}`);this.$message({message:"用户删除成功",type:"success"}),this.reload()}))}else this.$message.error("请确认是否删除")},filterMethod(){let t=[...this.arr],e=t.findIndex(((t,e)=>t._id==this.value1)),s=t.findIndex(((t,e)=>t.username==this.value2)),i=t.findIndex(((t,e)=>t.phone_number==this.value3)),a=[e,s,i],o=a.find((t=>t>-1));void 0!=o?(console.log(o),this.obj=[t[o]],this.value1="",this.value2="",this.value3=""):(console.log(o),this.obj=[],this.value1="",this.value2="",this.value3="")},btncz(){this.obj=this.arr,this.value1="",this.value2="",this.value3=""}}},qt=Rt,Bt=(0,u.Z)(qt,Mt,Nt,!1,null,"16b09c2a",null),Ht=Bt.exports,Kt={components:{Main:Ht}},Gt=Kt,Jt=(0,u.Z)(Gt,Ut,At,!1,null,null,null),Wt=Jt.exports,Yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Leftuser")],1)},Qt=[],Xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:8}},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("个人信息")])]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"上传头像",placement:"bottom"}},[i("el-button",{staticClass:"el-btn",attrs:{type:"text"},on:{click:function(e){t.centerDialogVisible=!0}}},[i("span",[i("img",{staticClass:"head-img",attrs:{src:s(2285)}})])])],1),i("el-dialog",{attrs:{title:"上传头像",visible:t.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[i("span",[i("el-upload",{staticClass:"avatar-uploader",attrs:{imageUrl:t.imageUrl,action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?i("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.centerDialogVisibleesc}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.centerDialogVisibleadd}},[t._v("确 定")])],1)]),i("div",{staticClass:"grxx"},[i("div",{staticClass:"el-icon-s-custom"},[t._v("登录账号")]),i("div",[t._v(t._s(t.obj.username))])]),i("el-divider",{staticClass:"br"}),i("div",{staticClass:"grxx1"},[i("div",{staticClass:"el-icon-unlock"},[t._v("用户权限")]),i("div",[t._v(t._s(t.obj.quanxian))])]),i("el-divider",{staticClass:"br"}),i("div",{staticClass:"grxx1"},[i("div",{staticClass:"el-icon-phone "},[t._v("电话号码")]),i("div",[t._v(t._s(t.obj.phone_number))])]),i("el-divider",{staticClass:"br"}),i("div",{staticClass:"grxx1"},[i("div",{staticClass:"el-icon-s-cooperation "},[t._v("账户余额")]),i("div",[t._v(t._s(t.obj.wallet))])]),i("el-divider",{staticClass:"br"}),i("div",{staticClass:"grxx1"},[i("div",{staticClass:"el-icon-user-solid "},[t._v("性别")]),"女"==t.obj.gender?i("div",[t._v(t._s("男"==t.obj.gender?"男":"女"))]):t._e()]),i("el-divider",{staticClass:"br"}),i("div",{staticClass:"grxx1"},[i("div",{staticClass:"el-icon-date"},[t._v("注册时间")]),i("div",[t._v(t._s(t.obj.creat_time))])]),i("el-divider",{staticClass:"br"}),i("div",{staticStyle:{height:"20px"}})],1)],1),i("el-col",{attrs:{span:15}},[i("div",{staticClass:"grid-content bg-purple"},[i("Rightuser")],1)])],1)],1)},te=[],ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"box-card"},[s("Userdatapss")],1)},se=[],ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"个人资料",name:"first"}},[s("Userdata")],1),s("el-tab-pane",{attrs:{label:"修改密码",name:"second"}},[s("Userpassword")],1)],1)},ae=[],oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"demo-input-suffix"},[t._v(" 用户名称： "),s("el-input",{attrs:{placeholder:"请输入新用户名"},model:{value:t.obj.username,callback:function(e){t.$set(t.obj,"username",e)},expression:"obj.username"}})],1),s("div",{staticClass:"demo-input-suffix"},[t._v(" 手机号码： "),s("el-input",{attrs:{placeholder:"请输入新手机号"},model:{value:t.obj.phone_number,callback:function(e){t.$set(t.obj,"phone_number",e)},expression:"obj.phone_number"}})],1),s("div",{staticClass:"demo-input-suffix"},[t._v(" 账户余额 : "+t._s(t.obj.wallet)+" "),s("el-button",{staticStyle:{margin:"0 5px"},attrs:{type:"text"}},[t._v("充值")])],1),s("div",{staticClass:"demo-input-suffix"},[t._v(" 性别 : "),s("el-radio",{attrs:{label:"男"},model:{value:t.obj.gender,callback:function(e){t.$set(t.obj,"gender",e)},expression:"obj.gender"}},[t._v("男")]),s("el-radio",{attrs:{label:"女"},model:{value:t.obj.gender,callback:function(e){t.$set(t.obj,"gender",e)},expression:"obj.gender"}},[t._v("女")])],1),s("div",{staticClass:"demo-input-suffix"},[s("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("确认更改")]),s("el-button",{attrs:{size:"mini"}},[t._v("返回首页")])],1)])},re=[],le={inject:["reload","newtime"],data(){return{obj:{}}},created(){this.$store.dispatch("user/getInfo").then((t=>{console.log(t),t.creat_time=this.newtime(t.creat_time),this.obj=t}))}},ne=le,ce=(0,u.Z)(ne,oe,re,!1,null,"6d61da1e",null),de=ce.exports,ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{margin:"30px 0"}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"请输入旧密码",prop:"oldPass"}},[s("el-input",{attrs:{"show-password":""},model:{value:t.ruleForm.oldPass,callback:function(e){t.$set(t.ruleForm,"oldPass",e)},expression:"ruleForm.oldPass"}})],1),s("el-form-item",{attrs:{label:"请输入新密码",prop:"pass"}},[s("el-input",{attrs:{type:"password","show-password":""},model:{value:t.ruleForm.pass,callback:function(e){t.$set(t.ruleForm,"pass",e)},expression:"ruleForm.pass"}})],1),s("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[s("el-input",{attrs:{type:"password","show-password":""},model:{value:t.ruleForm.checkPass,callback:function(e){t.$set(t.ruleForm,"checkPass",e)},expression:"ruleForm.checkPass"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("提交")]),s("el-button",{on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("重置")])],1)],1)],1)},pe=[],me=(s(1703),{data(){var t=(t,e,s)=>{if(!e)return s(new Error("旧密码不能为空"))},e=(t,e,s)=>{""===e?s(new Error("请输入密码")):(""!==this.ruleForm.checkPass&&this.$refs.ruleForm.validateField("checkPass"),s())},s=(t,e,s)=>{""===e?s(new Error("请再次输入密码")):e!==this.ruleForm.pass?s(new Error("两次输入密码不一致!")):s()};return{ruleForm:{pass:"",checkPass:"",oldPass:""},rules:{pass:[{validator:e,trigger:"blur"}],checkPass:[{validator:s,trigger:"blur"}],oldPass:[{validator:t,trigger:"blur"}]}}},methods:{submitForm(t){this.$refs[t].validate((t=>{if(!t)return console.log("error submit!!"),!1;alert("submit!")}))},resetForm(t){this.$refs[t].resetFields()}}}),he=me,ve=(0,u.Z)(he,ue,pe,!1,null,null,null),be=ve.exports,ge={data(){return{activeName:"first"}},methods:{handleClick(t,e){console.log(t,e)}},components:{Userdata:de,Userpassword:be}},fe=ge,_e=(0,u.Z)(fe,ie,ae,!1,null,null,null),we=_e.exports,ye={data(){return{}},components:{Userdatapss:we}},xe=ye,Ce=(0,u.Z)(xe,ee,se,!1,null,"a3fcdabe",null),$e=Ce.exports,ke={inject:["reload","newtime"],data(){return{obj:{},imageUrl:"",centerDialogVisible:!1}},created(){this.$store.dispatch("user/getInfo").then((t=>{console.log(t),t.creat_time=this.newtime(t.creat_time),this.obj=t}))},methods:{centerDialogVisibleesc(){this.centerDialogVisible=!1,this.imageUrl=""},centerDialogVisibleadd(){this.centerDialogVisible=!1,this.imageUrl=""},handleAvatarSuccess(t,e){this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload(t){const e="image/jpeg"===t.type,s=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),s||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&s}},components:{Rightuser:$e}},je=ke,Fe=(0,u.Z)(je,Xt,te,!1,null,null,null),Se=Fe.exports,Ve={data(){return{}},components:{Leftuser:Se}},Ee=Ve,Pe=(0,u.Z)(Ee,Yt,Qt,!1,null,null,null),Ze=Pe.exports;i["default"].use(a.Z);const ze=[{path:"/sgin",component:mt,hidden:!0,meta:{title:"登录"}},{path:"/register",component:Lt,hidden:!0,meta:{title:"注册"}},{path:"/",component:Zt,redirect:"/dashboard",icon:"el-icon-menu",children:[{path:"dashboard",component:X,name:"Dashboard",meta:{title:"首页"}}]}],De=[{path:"/admin",component:Zt,redirect:"/admin/index",icon:"el-icon-user-solid",children:[{path:"index",component:Wt,name:"admin",meta:{title:"用户中心",roles:["admin"]}}]},{path:"/commdity",component:Zt,redirect:"/commdity/index",icon:"el-icon-document",children:[{path:"index",component:g,name:"commdity",meta:{title:"商品详情",roles:["admin"]}}]},{path:"/user",component:Zt,redirect:"/user/index",icon:"el-icon-setting",children:[{path:"index",component:Ze,meta:{title:"个人中心",roles:["admin"]}}]}];var Oe=new a.Z({mode:"hash",routes:ze})},5842:function(t,e,s){"use strict";s.d(e,{Z:function(){return d}});var i=s(6369),a=s(3822);const o={token:t=>t.user.token,roles:t=>t.user.roles,permission_routes:t=>t.permission.routes};var r=o;i["default"].use(a.ZP);const l=s(2645),n=l.keys().reduce(((t,e)=>{const s=e.replace(/^\.\/(.*)\.\w+$/,"$1"),i=l(e);return t[s]=i.default,t}),{}),c=new a.ZP.Store({modules:n,getters:r});var d=c},6042:function(t,e,s){"use strict";s.r(e),s.d(e,{filterAsyncRoutes:function(){return o}});s(6699);var i=s(7392);function a(t,e){return!e.meta||!e.meta.roles||t.some((t=>e.meta.roles.includes(t)))}function o(t,e){const s=[];return t.forEach((t=>{const i={...t};a(e,i)&&(i.children&&(i.children=o(i.children,e)),s.push(i))})),console.log(s),s}const r={routes:[],addRoutes:[]},l={SET_ROUTES:(t,e)=>{t.addRoutes=e,t.routes=i.WC.concat(e),console.log(t.routes)}};console.log(o(i.aP,["admin"]));const n={generateRoutes({commit:t},e){return new Promise((s=>{let a;"admin"==e?(console.log(e),a=o(i.aP,[e])):a=[],t("SET_ROUTES",a),s(a)}))}};e["default"]={namespaced:!0,state:r,mutations:l,actions:n}},4947:function(t,e,s){"use strict";s.r(e);const i={isCollapse:!1},a={isCollapsemenu(t){t.isCollapse=!t.isCollapse}};e["default"]={namespaced:!0,state:i,mutations:a}},9416:function(t,e,s){"use strict";s.r(e);var i=s(9704),a=s(1836);const o={token:(0,a.LP)(),roles:[]},r={SET_TOKEN:(t,e)=>{t.token=e},SET_ROLES:(t,e)=>{t.roles=e}},l={login({commit:t},e){return new Promise(((s,o)=>{i.Z.post("/owner/sign",e).then((e=>{const{data:i}=e;i.roles="admin",t("SET_TOKEN",i.token),t("SET_ROLES",["admin"]),(0,a.o4)(i.token),s(i)})).catch((t=>{o(t)}))}))},getInfo({commit:t}){return new Promise(((e,s)=>{i.Z.post("/owner").then((s=>{const{data:i}=s;i["roles"]="admin",t("SET_ROLES",["admin"]),e(i)})).catch((t=>{s(t)}))}))},resetToken({commit:t}){return new Promise((e=>{t("SET_TOKEN",""),t("SET_ROLES",[]),(0,a.gy)(),e()}))}};e["default"]={namespaced:!0,state:o,actions:l,mutations:r}},1836:function(t,e,s){"use strict";s.d(e,{LP:function(){return o},gy:function(){return l},o4:function(){return r}});var i=s(680);const a="Admin-Token";function o(){return i.Z.get(a)}function r(t){return i.Z.set(a,t,"Session")}function l(){return i.Z.remove(a)}},2645:function(t,e,s){var i={"./permission.js":6042,"./tab.js":4947,"./user.js":9416};function a(t){var e=o(t);return s(e)}function o(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=o,t.exports=a,a.id=2645},2285:function(t,e,s){"use strict";t.exports=s.p+"img/u=1694074520,2517635995&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto.3654125a.webp"}},e={};function s(i){var a=e[i];if(void 0!==a)return a.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,i,a,o){if(!i){var r=1/0;for(d=0;d<t.length;d++){i=t[d][0],a=t[d][1],o=t[d][2];for(var l=!0,n=0;n<i.length;n++)(!1&o||r>=o)&&Object.keys(s.O).every((function(t){return s.O[t](i[n])}))?i.splice(n--,1):(l=!1,o<r&&(r=o));if(l){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[i,a,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,o,r=i[0],l=i[1],n=i[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(n)var d=n(s)}for(e&&e(i);c<r.length;c++)o=r[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(d)},i=self["webpackChunksgin"]=self["webpackChunksgin"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(9891)}));i=s.O(i)})();
//# sourceMappingURL=app.2e0fe1e9.js.map